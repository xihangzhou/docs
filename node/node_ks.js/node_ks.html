<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node.js | 夕航</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="前端学习笔记">
    <meta name="author" content="夕航">
    <meta name="keywords" content="前端">
    
    <link rel="preload" href="/docs/assets/css/0.styles.52bb2005.css" as="style"><link rel="preload" href="/docs/assets/js/app.09d10d22.js" as="script"><link rel="preload" href="/docs/assets/js/5.2d095b72.js" as="script"><link rel="preload" href="/docs/assets/js/3.c17983c0.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e282c734.js"><link rel="prefetch" href="/docs/assets/js/11.d7e26b9e.js"><link rel="prefetch" href="/docs/assets/js/12.b841f052.js"><link rel="prefetch" href="/docs/assets/js/13.dc5aeac1.js"><link rel="prefetch" href="/docs/assets/js/14.60c39f06.js"><link rel="prefetch" href="/docs/assets/js/15.c4090a9d.js"><link rel="prefetch" href="/docs/assets/js/16.b82bdcb1.js"><link rel="prefetch" href="/docs/assets/js/17.99236714.js"><link rel="prefetch" href="/docs/assets/js/18.14c2d49c.js"><link rel="prefetch" href="/docs/assets/js/19.d02bbe47.js"><link rel="prefetch" href="/docs/assets/js/2.93ef2c17.js"><link rel="prefetch" href="/docs/assets/js/20.9e98372f.js"><link rel="prefetch" href="/docs/assets/js/21.42e19db8.js"><link rel="prefetch" href="/docs/assets/js/22.fef0060f.js"><link rel="prefetch" href="/docs/assets/js/23.81874084.js"><link rel="prefetch" href="/docs/assets/js/24.90483c50.js"><link rel="prefetch" href="/docs/assets/js/25.4cccfb01.js"><link rel="prefetch" href="/docs/assets/js/26.5c9d1ddf.js"><link rel="prefetch" href="/docs/assets/js/27.a9c08176.js"><link rel="prefetch" href="/docs/assets/js/28.63eab0b6.js"><link rel="prefetch" href="/docs/assets/js/29.beda502f.js"><link rel="prefetch" href="/docs/assets/js/30.f395372d.js"><link rel="prefetch" href="/docs/assets/js/31.e809f027.js"><link rel="prefetch" href="/docs/assets/js/32.39b2d9fa.js"><link rel="prefetch" href="/docs/assets/js/33.ad475418.js"><link rel="prefetch" href="/docs/assets/js/34.b527ccb6.js"><link rel="prefetch" href="/docs/assets/js/35.4d3075ff.js"><link rel="prefetch" href="/docs/assets/js/36.e906c045.js"><link rel="prefetch" href="/docs/assets/js/37.cb809e5d.js"><link rel="prefetch" href="/docs/assets/js/38.b937dc87.js"><link rel="prefetch" href="/docs/assets/js/39.f9a8c19b.js"><link rel="prefetch" href="/docs/assets/js/4.01881906.js"><link rel="prefetch" href="/docs/assets/js/6.5dbe11a1.js"><link rel="prefetch" href="/docs/assets/js/7.e7b95553.js"><link rel="prefetch" href="/docs/assets/js/8.042a8261.js"><link rel="prefetch" href="/docs/assets/js/9.e326f00f.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.52bb2005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/logo.png" alt="夕航" class="logo"> <span class="site-name can-hide">夕航</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide/" class="nav-link">
  前言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/docs/algorithm/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><a href="/docs/interview/interview.html" class="nav-link">
  面试总结
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide/" class="nav-link">
  前言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/docs/algorithm/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><a href="/docs/interview/interview.html" class="nav-link">
  面试总结
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="node-js"><a href="#node-js" class="header-anchor">#</a> Node.js</h1> <p>@(Node.js)</p> <h2 id="_1-nodejs-介绍"><a href="#_1-nodejs-介绍" class="header-anchor">#</a> 1.nodejs 介绍</h2> <h3 id="_1-1下载和安装"><a href="#_1-1下载和安装" class="header-anchor">#</a> 1.1下载和安装</h3> <p><img src="/docs/assets/img/1592964631793.78fe146d.png" alt="Alt text"> <img src="/docs/assets/img/1592964645661.e2eda933.png" alt="Alt text"> <img src="/docs/assets/img/1592964717248.27a9a116.png" alt="Alt text"> <img src="/docs/assets/img/1592964833983.90a42ef6.png" alt="Alt text"></p> <h3 id="_1-2nodejs和js的区别"><a href="#_1-2nodejs和js的区别" class="header-anchor">#</a> 1.2nodejs和js的区别</h3> <p><img src="/docs/assets/img/1592964399450.f140641b.png" alt="Alt text"> <img src="/docs/assets/img/1592964420532.4b8c9628.png" alt="Alt text"> <img src="/docs/assets/img/1592964440277.d3918cab.png" alt="Alt text"> <img src="/docs/assets/img/1592964463382.4e3e3103.png" alt="Alt text"> <img src="/docs/assets/img/1592964512798.872db10e.png" alt="Alt text"></p> <h3 id="_2-3-commonjs"><a href="#_2-3-commonjs" class="header-anchor">#</a> 2.3 commonjs</h3> <h3 id="_2-4-debugger"><a href="#_2-4-debugger" class="header-anchor">#</a> 2.4 debugger</h3> <h3 id="_2-5-server端和前端开发的区别"><a href="#_2-5-server端和前端开发的区别" class="header-anchor">#</a> 2.5 server端和前端开发的区别</h3> <p><img src="/docs/assets/img/1592967391161.dd9dade5.png" alt="Alt text"> <img src="/docs/assets/img/1592967424298.052d3d07.png" alt="Alt text"> <img src="/docs/assets/img/1592967446393.cf66c3e5.png" alt="Alt text"> <img src="/docs/assets/img/1592967526682.2ae71ef3.png" alt="Alt text"> <img src="/docs/assets/img/1592967596394.949acf7d.png" alt="Alt text"> <img src="/docs/assets/img/1592967694995.ff4fa18d.png" alt="Alt text"> <img src="/docs/assets/img/1592967759607.7ab0e847.png" alt="Alt text"> <img src="/docs/assets/img/1592967824865.fd2aff03.png" alt="Alt text"> <img src="/docs/assets/img/1592967901197.18207087.png" alt="Alt text"></p> <h2 id="_2-项目介绍"><a href="#_2-项目介绍" class="header-anchor">#</a> 2.项目介绍</h2> <h3 id="_2-1需求分析"><a href="#_2-1需求分析" class="header-anchor">#</a> 2.1需求分析</h3> <p><img src="/docs/assets/img/1592968058006.a57424de.png" alt="Alt text">
一个项目的诞生到上线是一个很长的流程，开发只是很小的一部分
<img src="/docs/assets/img/1592968181377.1a3e6118.png" alt="Alt text"> <img src="/docs/assets/img/1592968260856.4204193a.png" alt="Alt text"> <img src="/docs/assets/img/1592968368164.ed91d740.png" alt="Alt text"> <img src="/docs/assets/img/1592968382352.bc4cde6b.png" alt="Alt text"> <img src="/docs/assets/img/1592968395577.4f042546.png" alt="Alt text"> <img src="/docs/assets/img/1592968409281.3c18e2bf.png" alt="Alt text"> <img src="/docs/assets/img/1592968422983.fc4e4ceb.png" alt="Alt text"> <img src="/docs/assets/img/1592968465820.79ca5a3e.png" alt="Alt text"></p> <h3 id="_2-2技术方案"><a href="#_2-2技术方案" class="header-anchor">#</a> 2.2技术方案</h3> <p><img src="/docs/assets/img/1592968560259.459fef07.png" alt="Alt text"> <img src="/docs/assets/img/1592968613590.24171e3d.png" alt="Alt text"> <img src="/docs/assets/img/1592968627095.3eb048aa.png" alt="Alt text"> <img src="/docs/assets/img/1592968705837.748898c3.png" alt="Alt text"> <img src="/docs/assets/img/1592968749596.8abb531d.png" alt="Alt text"> <img src="/docs/assets/img/1592968917077.bdf4871e.png" alt="Alt text"></p> <h2 id="_3-开发接口"><a href="#_3-开发接口" class="header-anchor">#</a> 3.开发接口</h2> <h3 id="_3-1-http概述"><a href="#_3-1-http概述" class="header-anchor">#</a> 3.1 http概述</h3> <p><img src="/docs/assets/img/1592969085646.729aabec.png" alt="Alt text"> <img src="/docs/assets/img/1592969161681.2b7048ad.png" alt="Alt text">
请求实例
<img src="/docs/assets/img/1592969221040.ed6cc260.png" alt="Alt text">
DNS解析：</p> <ul><li>DNS缓存</li> <li>DNS查找
TCP三次握手连接：</li></ul> <h3 id="_3-2-处理get请求"><a href="#_3-2-处理get请求" class="header-anchor">#</a> 3.2 处理get请求</h3> <p><img src="/docs/assets/img/1592969575781.bc4a3b85.png" alt="Alt text"> <img src="/docs/assets/img/1592969590960.46be0958.png" alt="Alt text"> <img src="/docs/assets/img/1592969735488.7f12877e.png" alt="Alt text"> <img src="/docs/assets/img/1592969753473.6d2074a7.png" alt="Alt text"></p> <h3 id="_3-3-处理post请求"><a href="#_3-3-处理post请求" class="header-anchor">#</a> 3.3 处理post请求</h3> <p><img src="/docs/assets/img/1592976428005.1aa59664.png" alt="Alt text"> <img src="/docs/assets/img/1592976570149.951d95ec.png" alt="Alt text"> <img src="/docs/assets/img/1592978063783.5bf8d25b.png" alt="Alt text"> <img src="/docs/assets/img/1592978095169.a47d7351.png" alt="Alt text"></p> <h3 id="_3-4搭建开发环境"><a href="#_3-4搭建开发环境" class="header-anchor">#</a> 3.4搭建开发环境</h3> <p><img src="/docs/assets/img/1592979224828.c7083003.png" alt="Alt text"></p> <h3 id="_3-5开发接口"><a href="#_3-5开发接口" class="header-anchor">#</a> 3.5开发接口</h3> <p><img src="/docs/assets/img/1592985247699.35585886.png" alt="Alt text"> <img src="/docs/assets/img/1592985298902.0e1bd959.png" alt="Alt text"></p> <h2 id="数据库的连接"><a href="#数据库的连接" class="header-anchor">#</a> 数据库的连接</h2> <h3 id="_1-mysql介绍"><a href="#_1-mysql介绍" class="header-anchor">#</a> 1 Mysql介绍</h3> <p><img src="/docs/assets/img/1593056915542.c85cd714.png" alt="Alt text"></p> <h2 id="登陆-cookie"><a href="#登陆-cookie" class="header-anchor">#</a> 登陆(cookie)</h2> <p><img src="/docs/assets/img/1593140800591.c46def15.png" alt="Alt text"> <img src="/docs/assets/img/1593140859493.06445f34.png" alt="Alt text"> <img src="/docs/assets/img/1593140964378.8ca6b93d.png" alt="Alt text"> <img src="/docs/assets/img/1593141028486.03cb671f.png" alt="Alt text"> <img src="/docs/assets/img/1593141429133.e9d2d778.png" alt="Alt text">
注意是发送请求域名的cookie
<img src="/docs/assets/img/1593141488064.92c4f275.png" alt="Alt text"> <img src="/docs/assets/img/1593141570250.45babad7.png" alt="Alt text">
1:直接在浏览器network中查看请求响应头
请求头中有cookie字段
相应头中有set-cookie字段
2:application中的storage查看
3:document.cookie
document.cookie = 'key:val;'
在客户端累加cookie
即使后端已经设置了httponly也可以累加只是不能修改，在服务器端会用最后的username来覆盖掉客户端设置的username
<img src="/docs/assets/img/1593141936642.81eec8d6.png" alt="Alt text"> <img src="/docs/assets/img/1593153241350.db256a44.png" alt="Alt text">
注意</p> <h2 id="session"><a href="#session" class="header-anchor">#</a> Session</h2> <p><img src="/docs/assets/img/1593153537074.07987917.png" alt="Alt text">
session解决用户隐私安全和cookie的容量问题
<img src="/docs/assets/img/1593153550717.d5bb6b83.png" alt="Alt text"> <img src="/docs/assets/img/1593157802606.caee081f.png" alt="Alt text"> <img src="/docs/assets/img/1593157879381.cad71484.png" alt="Alt text">
stack中为基础类型变量
heap为引用类型
<img src="/docs/assets/img/1593157933483.511a729b.png" alt="Alt text"> <img src="/docs/assets/img/1593158063551.03c4ab6a.png" alt="Alt text"> <img src="/docs/assets/img/1593158727949.a4292bdd.png" alt="Alt text"> <img src="/docs/assets/img/1593158769144.1a7c36d6.png" alt="Alt text"> <img src="/docs/assets/img/1593158785727.8d01c888.png" alt="Alt text"> <img src="/docs/assets/img/1593158990859.c8cabb0f.png" alt="Alt text">
大不了重新登陆即可，所以断电了也没关系（其实可以配置让他断电也可）
<img src="/docs/assets/img/1593159106730.b0f27e16.png" alt="Alt text"> <img src="/docs/assets/img/1593160380859.01a0a2e1.png" alt="Alt text"> <img src="/docs/assets/img/1593160435102.ed33700f.png" alt="Alt text"></p> <h2 id="与前端联调"><a href="#与前端联调" class="header-anchor">#</a> 与前端联调</h2> <p><img src="/docs/assets/img/1593170466007.4bf536fc.png" alt="Alt text"> <img src="/docs/assets/img/1593174493665.5a69423d.png" alt="Alt text"> <img src="/docs/assets/img/1593174504796.f4011ce8.png" alt="Alt text"> <img src="/docs/assets/img/1593393438785.f559b77a.png" alt="Alt text"></p> <h2 id="日志"><a href="#日志" class="header-anchor">#</a> 日志</h2> <p><img src="/docs/assets/img/1593393727896.17c13d2e.png" alt="Alt text"> <img src="/docs/assets/img/1593393823616.8b9815aa.png" alt="Alt text"> <img src="/docs/assets/img/1593393877249.b832b4e1.png" alt="Alt text">
日志很大redis太贵没必要
mysql是关系型数据库，是key value的，成本高没必要
应该用文件来存储日志，便宜，可迁移
<img src="/docs/assets/img/1593395763163.3d3ffa64.png" alt="Alt text"> <img src="/docs/assets/img/1593395783399.7e66336c.png" alt="Alt text"> <img src="/docs/assets/img/1593395943597.2c2f2735.png" alt="Alt text"> <img src="/docs/assets/img/1593395973123.bb414c21.png" alt="Alt text">
解决网络IO，解放CPU内存
<img src="/docs/assets/img/1593396075467.43bcd3e1.png" alt="Alt text"> <img src="/docs/assets/img/1593396452153.4f6f2cde.png" alt="Alt text"> <img src="/docs/assets/img/1593396534899.a93d05d7.png" alt="Alt text"> <img src="/docs/assets/img/1593397786125.da0f87d2.png" alt="Alt text"> <img src="/docs/assets/img/1593398000029.44015e65.png" alt="Alt text">
操作系统脚本来做
<img src="/docs/assets/img/1593398364163.31973632.png" alt="Alt text"> <img src="/docs/assets/img/1593398860140.e83f93eb.png" alt="Alt text"></p> <h2 id="安全"><a href="#安全" class="header-anchor">#</a> 安全</h2> <p><img src="/docs/assets/img/1593398985064.0249ca49.png" alt="Alt text"> <img src="/docs/assets/img/1593399037016.8f20c347.png" alt="Alt text"> <img src="/docs/assets/img/1593399154521.17aec4da.png" alt="Alt text"> <img src="/docs/assets/img/1593405781328.c099536f.png" alt="Alt text"> <img src="/docs/assets/img/1593405811064.88e03d53.png" alt="Alt text">
解决：使用xss包对存入的数据进行转义
<img src="/docs/assets/img/1593407895763.6be8e96b.png" alt="Alt text"></p> <h2 id="基础总结"><a href="#基础总结" class="header-anchor">#</a> 基础总结</h2> <p><img src="/docs/assets/img/1593409422442.6877f206.png" alt="Alt text"> <img src="/docs/assets/img/1593409592479.d3917d06.png" alt="Alt text"> <img src="/docs/assets/img/1593409759540.4ef74bc5.png" alt="Alt text">
内存不够，网络IO不够
优化：stream来优化有限的带宽和内存
扩展：redis
<img src="/docs/assets/img/1593409866889.93368142.png" alt="Alt text"></p> <h2 id="express"><a href="#express" class="header-anchor">#</a> Express</h2> <p><img src="/docs/assets/img/1593428044828.6c7cb070.png" alt="Alt text"> <img src="/docs/assets/img/1593428262876.54538fda.png" alt="Alt text"> <img src="/docs/assets/img/1593433707245.5b597bd7.png" alt="Alt text"> <img src="/docs/assets/img/1593435915596.7164c745.png" alt="Alt text"> <img src="/docs/assets/img/1593435945646.c827c49f.png" alt="Alt text"> <img src="/docs/assets/img/1593480689875.d84e2ec9.png" alt="Alt text"> <img src="/docs/assets/img/1593481667600.8ff00628.png" alt="Alt text"> <img src="/docs/assets/img/1593482127488.d2d70dac.png" alt="Alt text"></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.09d10d22.js" defer></script><script src="/docs/assets/js/5.2d095b72.js" defer></script><script src="/docs/assets/js/3.c17983c0.js" defer></script>
  </body>
</html>
