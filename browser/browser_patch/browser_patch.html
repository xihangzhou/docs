<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器面试问题 | 夕航</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="前端学习笔记">
    <meta name="author" content="夕航">
    <meta name="keywords" content="前端">
    
    <link rel="preload" href="/docs/assets/css/0.styles.52bb2005.css" as="style"><link rel="preload" href="/docs/assets/js/app.09d10d22.js" as="script"><link rel="preload" href="/docs/assets/js/5.2d095b72.js" as="script"><link rel="preload" href="/docs/assets/js/18.14c2d49c.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e282c734.js"><link rel="prefetch" href="/docs/assets/js/11.d7e26b9e.js"><link rel="prefetch" href="/docs/assets/js/12.b841f052.js"><link rel="prefetch" href="/docs/assets/js/13.dc5aeac1.js"><link rel="prefetch" href="/docs/assets/js/14.60c39f06.js"><link rel="prefetch" href="/docs/assets/js/15.c4090a9d.js"><link rel="prefetch" href="/docs/assets/js/16.b82bdcb1.js"><link rel="prefetch" href="/docs/assets/js/17.99236714.js"><link rel="prefetch" href="/docs/assets/js/19.d02bbe47.js"><link rel="prefetch" href="/docs/assets/js/2.93ef2c17.js"><link rel="prefetch" href="/docs/assets/js/20.9e98372f.js"><link rel="prefetch" href="/docs/assets/js/21.42e19db8.js"><link rel="prefetch" href="/docs/assets/js/22.fef0060f.js"><link rel="prefetch" href="/docs/assets/js/23.81874084.js"><link rel="prefetch" href="/docs/assets/js/24.90483c50.js"><link rel="prefetch" href="/docs/assets/js/25.4cccfb01.js"><link rel="prefetch" href="/docs/assets/js/26.5c9d1ddf.js"><link rel="prefetch" href="/docs/assets/js/27.a9c08176.js"><link rel="prefetch" href="/docs/assets/js/28.63eab0b6.js"><link rel="prefetch" href="/docs/assets/js/29.beda502f.js"><link rel="prefetch" href="/docs/assets/js/3.c17983c0.js"><link rel="prefetch" href="/docs/assets/js/30.f395372d.js"><link rel="prefetch" href="/docs/assets/js/31.e809f027.js"><link rel="prefetch" href="/docs/assets/js/32.39b2d9fa.js"><link rel="prefetch" href="/docs/assets/js/33.ad475418.js"><link rel="prefetch" href="/docs/assets/js/34.b527ccb6.js"><link rel="prefetch" href="/docs/assets/js/35.4d3075ff.js"><link rel="prefetch" href="/docs/assets/js/36.e906c045.js"><link rel="prefetch" href="/docs/assets/js/37.cb809e5d.js"><link rel="prefetch" href="/docs/assets/js/38.b937dc87.js"><link rel="prefetch" href="/docs/assets/js/39.f9a8c19b.js"><link rel="prefetch" href="/docs/assets/js/4.01881906.js"><link rel="prefetch" href="/docs/assets/js/6.5dbe11a1.js"><link rel="prefetch" href="/docs/assets/js/7.e7b95553.js"><link rel="prefetch" href="/docs/assets/js/8.042a8261.js"><link rel="prefetch" href="/docs/assets/js/9.e326f00f.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.52bb2005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/logo.png" alt="夕航" class="logo"> <span class="site-name can-hide">夕航</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide/" class="nav-link">
  前言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/browser/" class="nav-link router-link-active">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/docs/algorithm/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><a href="/docs/interview/interview.html" class="nav-link">
  面试总结
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/guide/" class="nav-link">
  前言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/browser/" class="nav-link router-link-active">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/docs/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/webpack/" class="nav-link">
  Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/docs/algorithm/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><a href="/docs/interview/interview.html" class="nav-link">
  面试总结
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/browser/" aria-current="page" class="sidebar-link"># 待解决问题</a></li><li><a href="/docs/browser/browser_ks/browser_ks.html" class="sidebar-link">浏览器相关</a></li><li><a href="/docs/browser/browser_patch/browser_patch.html" aria-current="page" class="active sidebar-link">浏览器面试问题</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器面试问题"><a href="#浏览器面试问题" class="header-anchor">#</a> 浏览器面试问题</h1> <h3 id="浏览器的渲染过程"><a href="#浏览器的渲染过程" class="header-anchor">#</a> 浏览器的渲染过程？</h3> <p>渲染进程拿到数据=》DOM建立/CSSOM建立=〉style computation =&gt; layout =&gt; layer =&gt; paint =&gt; compose合成</p> <h3 id="浏览器的缓存机制"><a href="#浏览器的缓存机制" class="header-anchor">#</a> 浏览器的缓存机制？</h3> <p>首先我们可以把浏览器的缓存分为两类：</p> <ul><li>http资源相关的缓存</li> <li>浏览器的本地信息存储</li></ul> <p>先说http资源相关的缓存</p> <ol><li>http资源相关缓存</li></ol> <ul><li><p>强缓存</p> <ul><li>指不往服务器发送请求直接获取的缓存，返回状态200，在http中由expires或者是catch-control进行控制</li></ul></li> <li><p>协商缓存</p> <ul><li>指要往服务器发送请求验证缓存是否过期的缓存，若没有更新返回304，在http中由etag/if-none-match, last-modified/if-modified-since决定</li></ul></li> <li><p>整个缓存过程？</p> <p><img src="/docs/assets/img/1591075525450.fcf15664.png" alt="Alt text"></p></li></ul> <ol start="2"><li>浏览器的本地存储</li></ol> <ul><li><p>cookie</p> <ul><li>Set-cookie响应字段设置，cookie字段发送</li> <li>前端可以在document.cookie设置</li></ul></li> <li><p>localStorage</p></li> <li><p>sessionStorage</p></li> <li><p>indexDB</p></li> <li><p>一些区别总结</p> <ul><li>localStorage对比cookie</li> <li>LocalStorage对比SessionStorage</li> <li>Cookie和Session的区别和联系</li></ul></li></ul> <h3 id="渲染的优化方式有哪些"><a href="#渲染的优化方式有哪些" class="header-anchor">#</a> 渲染的优化方式有哪些？</h3> <h4 id="_1-从网络传输的角度看"><a href="#_1-从网络传输的角度看" class="header-anchor">#</a> 1. 从网络传输的角度看</h4> <p><strong>资源数量相同减少http请求次数</strong></p> <p>应该做好单次http请求的请求资源数量和http请求次数的tradeOff，使得不会过多次的请求小型文件。</p> <p>可以用到的策略有：</p> <ul><li><p>合并压缩代码，比如使用webpack</p></li> <li><p>代码比较少的情况下，尽可能使用内嵌式</p></li> <li><p>雪碧图(把很多小图拼接成一张大图)或者图片BASE64</p></li></ul> <p><strong>优先只加载必须的资源</strong></p> <p>优先只加载在首屏中用户会看到的或者是一些内容强相关的资源</p> <p>可以用到的策略有：</p> <ul><li>对于动态获取的图片，采用图片懒加载</li> <li>数据也可以做异步分批加载：开始只请求加载第一屏的数据，滑动到第几屏在加载这一屏的数据和图片</li> <li>骨架屏技术（首屏内容由服务器渲染；再或者开始展示占位结构，客户端在单独获取数据渲染；）</li> <li>音视频取消预加载（播放的时候再去加载音视频文件，对于自动播放采取延迟播放的处理，先打开页面再加载音视频）</li></ul> <p><strong>用更少的数据量传递相同的信息</strong></p> <ul><li>服务器采用GZIP压缩</li> <li>采用http2.0的头部压缩</li> <li>在客户端和服务器端进行信息交互的时候，对于多项数据我们尽可能基于JSON格式来进行传送（JSON格式的数据处理方便，资源偏小）</li> <li>尽可能实现JS的封装（低耦合高内聚），减少页面中的冗余代码</li></ul> <p><strong>使用更好的网络传输机制</strong></p> <ul><li><p><strong>数据或者是资源文件</strong>进行缓存，包括强缓存协商缓存</p></li> <li><p>数据放在cookie,localStorage,SessionStorage中进行存储</p></li> <li><p>DNS预处理（在html解析到要加载的url之前通过写在前面的<link>标签告诉浏览器后面要用到这个url,先进行DNS解析等到加载到的时候就可以直接用）</p> <ul><li>https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control</li></ul></li> <li><p>CDN区域分布式服务器开发部署（费钱  效果会非常的好</p> <ul><li><p>CDN 缓存</p> <p>当服务接入了 CDN 之后，浏览器本地缓存的资源过期之后，浏览器不是直接向源服务器请求资源，而是转而向 CDN 边缘节点请求资源。CDN 边缘节点中将用户的数据缓存起来，如果 CDN 中的缓存也过期了，CDN 边缘节点会向源服务器发出回源请求，从而来获取最新资源。
https://juejin.im/post/5cdb7e29e51d453a572aa2f1</p></li></ul></li> <li><p>使用http2.0实现长连接和多工，服务器推送的机制</p></li></ul> <h4 id="_2-从浏览器运行的角度来看"><a href="#_2-从浏览器运行的角度来看" class="header-anchor">#</a> 2.从浏览器运行的角度来看</h4> <ul><li>加快DOM的解析和渲染
<ul><li>尽量减少CSS表达式的使用(expression)</li> <li>在CSS导入的时候不要嵌套太深的@import导入式，因为会阻碍DOM的渲染</li> <li>CSS放首部，JS放尾部</li> <li>基于SCRIPT调取JS的时候，可已使用 defer或者async 来异步加载</li></ul></li> <li>减少回流重绘
<ul><li>使用 transform 替代 top</li> <li>使用CSS实现动画的特效</li> <li>使用 visibility 替换 display: none ，因为前者只会引起重绘，后者会引发回流（改变了布局）</li> <li>样式集中改变</li> <li>读写分离</li> <li>缓存布局信息</li> <li>元素批量修改</li> <li>使用VUE等对DOM的渲染操作做了优化的框架？</li> <li>将频繁重绘或者回流的节点设置为图层，图层能够阻止该节点的渲染行为影响别的节点。比如对于 video 标签来说，浏览器会自动将该节点变为图层。？</li></ul></li> <li>使JS的代码执行逻辑更加合理
<ul><li>在JS中尽量减少闭包的使用（内存优化）</li> <li>减少递归的使用，避免死递归，避免由于递归导致的栈内存嵌套</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/browser/browser_ks/browser_ks.html" class="prev">
        浏览器相关
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.09d10d22.js" defer></script><script src="/docs/assets/js/5.2d095b72.js" defer></script><script src="/docs/assets/js/18.14c2d49c.js" defer></script>
  </body>
</html>
